<p align="center">
  <img src= "https://github.com/thrustlang/.github/blob/main/assets/logos/thrustlang-logo-name.png" alt= "logo" style= "width: 2hv; height: 2hv;"> </img>
</p>

# Thrust Programming Language 

## Roadmap > Conventional Programming > Cbindgen > Code Generation

This article will briefly discuss how the compiler integrates the preprocessed C headers into code that Thrust's selected code generator can compile.

### Phases

#### Clang Preprocessing

At this point, the Clang frontend already offers the AST, preprocessed with C-type headers. Therefore, native C compile-time macro and type resolution will have already been done.

The Thrust compiler simply takes the constant types and values.

#### AST Generation

At this stage, the Thrust compiler, using its frontend, translates the representation provided by Clang into the abstract representation, valid for Thrust's primordial types. This includes constant types, structures, external methods, and more.

#### Code Generation

At this stage, the Thrust compiler prioritizes C header type imports over even compile-time execution in order to resolve types before any actual code execution in the compiler. At this stage, the intermediate representation of these preprocessed types is generated by the Clang frontend and the Thrust frontend.

#### Code Integration

At this stage, the Thrust compiler takes the intermediate code generated by the AOT compiler, runs it through the preprocessed types of the C headers, and exports them to the compile-time code generator. These types are then integrated into Thrust's JIT compiler to expose the use of the values ​​and types for execution at compile time.
